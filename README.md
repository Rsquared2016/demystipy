Demystipy
==========

When working with a new dataset, particularly in a scenario where the data is received by a software package and not directly observed by a human, it is important to understand which properties of the data might be the most interesting. This package looks for novel relationships data by identifying which properties and pairs of properties explain the most variance in principal and independent components. 

## Setup

```bash
git clone https://github.com/popily/demystipy.git
pip install -r requirements.txt
```

The entry point to `demystipy` is `score.score_columns`. This function accepts a [pandas](http://pandas.pydata.org/) `dataframe` or a list of `(column header, [column values])` tuples, along with a dictionary mapping column headers to semantic data types. It's assumed the semantic data types were generated by [identipyer](https://github.com/popily/identipyer), or conform to its naming conventions. 

Let's say you had a csv file, `my-dates.csv`, structured as follows:

| Some Number | A Date     | 
|-------------|------------| 
| 1           | 2016-01-01 | 
| 2           | 2016-01-02 | 
| 10          | 2016-01-03 | 
| 20          | 2016-01-04 | 
| 100         | 2016-01-05 | 

```python
from demystipy.score import score_columns

data_types = {
    'Some Number': ['numeric'],
    'A Date': ['datetime']
}

# Using a dataframe
import pandas as pd
df = pd.read_csv('my-dates.csv')

column_scores, pair_scores = score_columns(df=df)

# Or using columns
import csv
f = open('my-dates.csv', 'rb')
reader = csv.reader(f)
headers = reader.next()
rows = [row for row in reader]
columns = zip(headers,rows)

column_scores, pair_scores = score_columns(columns=columns)


print scores
```

`column_scores` will contain a list of 2-tuples, where the first element is the 
column header, and the second element is its score. 

```
(
    ('Column A', .87123455),
    ('Column C', .76543222)
)
```

`pair_scores` contains a list of tuples of column header pairs, ordered by the combined explained variance of both columns, averaged for each component discovered by each decomposition algorithm (`PCA`, `FastICA`, or `FactorAnalysis`). For example:

```
(
    ('Column A', 'Column B'), .87123455),
    ('Column C', 'Column D'), .76543222)
)
```